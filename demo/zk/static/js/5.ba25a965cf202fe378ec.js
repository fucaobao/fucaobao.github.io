webpackJsonp([5],{EV1k:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Dd8w"),r=s.n(a),i=s("NYxO"),o=s("Pl10"),n=s("//Fk"),c=s.n(n),u=s("mtWM"),l=s.n(u),v=s("T452");var p=s("3Q4o"),d=s("Kf/3"),h={data:function(){return{hasError:!1,username:"",password:"",captureCode:"",alertMsg:""}},computed:r()({},Object(i.c)(["isAutoLogin"])),activated:function(){this.setLoginPage(!0);var t=this.$refs.autoLogin;this.isAutoLogin?(Object(p.a)(t,"active"),this.setAutoLogin(!0)):(Object(p.c)(t,"active"),this.setAutoLogin(!1))},methods:r()({showAlert:function(){this.$refs.alert.show()},toggleAuto:function(){var t=this.$refs.autoLogin;Object(p.b)(t,"active")?(Object(p.c)(t,"active"),this.setAutoLogin(!1)):(Object(p.a)(t,"active"),this.setAutoLogin(!0))},doLogin:function(){var t=this;if(this._check()){var e,s,a=this.username,r=this.password,i=this.captureCode;(e={username:a,password:r,captureCode:i},s=v.e+"/api/login",l.a.post(s,e).then(function(t){return c.a.resolve(t.data)})).then(function(e){e.errCode===v.b?(Object(d.m)(e.data.token),t.isAutoLogin?t.setAutoLogin(!0):t.setAutoLogin(!1),Object(d.n)({username:a,password:r}),t.$router.push({path:"index"})):t.hasError=!0})}},_check:function(){var t=this.username,e=this.password;if(!t)return this.alertMsg="请输入用户名",this.showAlert(),!1;if(!e)return this.alertMsg="请输入密码",this.showAlert(),!1;if(this.hasError&&!this.captureCode)return this.alertMsg="请输入验证码",this.showAlert(),!1;return!0}},Object(i.b)(["setLoginPage","setAutoLogin"])),components:{Alert:o.a}},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"wrapper"},[t._m(0),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"bar"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"请输入用户名",maxlength:"32"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"bar"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入密码",maxlength:"16"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.hasError,expression:"hasError"}],staticClass:"bar"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.captureCode,expression:"captureCode"}],staticClass:"code",attrs:{type:"text",placeholder:"请输入验证码",maxlength:"6"},domProps:{value:t.captureCode},on:{input:function(e){e.target.composing||(t.captureCode=e.target.value)}}}),t._v(" "),t._m(2)]),t._v(" "),s("div",{staticClass:"operate"},[s("div",{ref:"autoLogin",staticClass:"auto-login",on:{click:t.toggleAuto}},[s("i",{staticClass:"icon"}),t._v(" "),s("span",[t._v("下次自动登录")])]),t._v(" "),s("div",{staticClass:"forget-pwd"},[t._v("\n          忘记密码\n        ")])])]),t._v(" "),s("div",{staticClass:"operate-btn active",on:{click:t.doLogin}},[t._v("\n      登录\n    ")])]),t._v(" "),s("alert",{ref:"alert",attrs:{message:t.alertMsg}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:s("r4AP")}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"name"},[e("p",[this._v("安民食为天消费")]),this._v(" "),e("p",[this._v("版本V3.0")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"capture-wrapper"},[e("img",{attrs:{src:s("GwSs")}})])}]};var m=s("VU/8")(h,g,!1,function(t){s("uSue")},"data-v-044d9925",null);e.default=m.exports},GwSs:function(t,e,s){t.exports=s.p+"static/img/capture.2048c79.png"},r4AP:function(t,e,s){t.exports=s.p+"static/img/logo-black.f99c9e2.png"},uSue:function(t,e){}});
//# sourceMappingURL=5.ba25a965cf202fe378ec.js.map