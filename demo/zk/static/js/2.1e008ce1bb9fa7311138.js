webpackJsonp([2],{"5dG7":function(t,e){},CTeu:function(t,e,s){"use strict";var i=s("Dd8w"),a=s.n(i),c=s("3Q4o"),n={data:function(){return{count:0,checked:!1,showIcon:!1}},filters:{formatMoney:function(t){return isFinite(t)?t.toFixed(2):""}},props:{hasCheckBox:{type:Boolean,default:!1},item:{type:Object,default:function(){return{}}}},methods:{minus:function(){this.count=Math.max(0,this.count-1)},plus:function(){this.count=parseInt(this.count)+1},setCount:function(t){this.count=t},setChecked:function(t){this.checked=t},toggleItem:function(){var t=this.$refs.checkbox;Object(c.b)(t,"active")?this.checked=!1:this.checked=!0}},watch:{count:function(t){this.showIcon=0!==t,this.$emit("count",a()({},this.item,{count:""===t?0:parseInt(t)}))},checked:function(t){this.$emit("checked",t,this.item)}},components:{}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"good"},[t.hasCheckBox?s("div",{staticClass:"left",on:{click:t.toggleItem}},[s("i",{ref:"checkbox",class:!0===t.checked?"active":""})]):t._e(),t._v(" "),s("div",{staticClass:"middle"},[s("img",{staticClass:"img",attrs:{src:t.item.src}})]),t._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"detail"},[s("p",{staticClass:"name"},[t._v(t._s(t.item.name))]),t._v(" "),s("div",{staticClass:"desc"},[s("p",[s("label",[t._v("规格：")]),t._v(" "),s("span",[t._v(t._s(t.item.desc))])]),t._v(" "),s("p",{staticClass:"price"},[s("label",[t._v("￥")]),t._v(" "),s("span",[t._v(t._s(t._f("formatMoney")(t.item.price)))]),t._v(" "),s("label",[t._v("/"+t._s(t.item.unit))])])])]),t._v(" "),s("div",{staticClass:"operate"},[s("i",{directives:[{name:"show",rawName:"v-show",value:t.showIcon,expression:"showIcon"}],staticClass:"minus",on:{click:t.minus}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showIcon,expression:"showIcon"}],staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.count,expression:"count"}],attrs:{type:"text"},domProps:{value:t.count},on:{input:function(e){e.target.composing||(t.count=e.target.value)}}})]),t._v(" "),s("i",{staticClass:"plus",on:{click:t.plus}})])])])},staticRenderFns:[]};var r=s("VU/8")(n,o,!1,function(t){s("5dG7")},"data-v-098390b4",null);e.a=r.exports},Hqsn:function(t,e){},fdU8:function(t,e){},jpaG:function(t,e){},o6iA:function(t,e){},zH0q:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Dd8w"),a=s.n(i),c=s("CTeu"),n=s("qwAB"),o=s("2X+S"),r=s("Csq2"),l={data:function(){return{}},props:{list:{type:Array,default:[]},title:{type:String,default:"猜你喜欢"}},methods:{selectItem:function(t){this.$emit("query",t)}},components:{}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"guess-wrapper"},[s("div",{staticClass:"tilte"},[t._v(t._s(t.title))]),t._v(" "),s("ul",{staticClass:"word-wrapper"},t._l(t.list,function(e,i){return s("li",{staticClass:"item",on:{click:function(s){t.selectItem(e)}}},[t._v("\n          "+t._s(e)+"\n      ")])}))])},staticRenderFns:[]};var u=s("VU/8")(l,h,!1,function(t){s("Hqsn")},"data-v-dd088d00",null).exports,d=s("NYxO"),v={data:function(){return{query:"",guessLikeList:[],list:[],selectedGoods:{},total:0,price:0}},props:{isShowSearch:{type:Boolean,default:!1}},created:function(){this._getGuessLikeList()},methods:a()({back:function(){this.$refs.searchBox.setQuery(""),this.list=[],this.selectedGoods={},this.total=0,this.price=0,this.$emit("hide")},focus:function(){},onQueryChange:function(t){this.query=t,this.$refs.searchBox.setQuery(t)},_getOrderList:function(){this.list=[];for(var t=0;t<10;t++)this.list.push({id:t+1,src:"https://y.gtimg.cn/music/photo_new/T003R720x288M000000yTU5u2XJFWh.jpg?max_age=2592000",name:"可口可乐",desc:"600ml",price:parseInt(10*Math.random()+1),unit:"瓶"})},_getGuessLikeList:function(){for(var t=0;t<10;t++)this.guessLikeList.push("wjp"+(t+1))},calc:function(t){this.selectedGoods[t.id]=t;var e=0,s=0;for(var i in this.selectedGoods){var a=this.selectedGoods[i];e+=a.count,s+=a.price*a.count}this.total=e,this.price=s,this.item=t},submit:function(){this.setShoppingCart(this.selectedGoods),this.$router.push({path:this.$router.currentRoute.path+"/shoppingcart"})}},Object(d.b)(["setShoppingCart"])),watch:{query:function(){this._getOrderList()}},components:{SearchBox:o.a,GuessLike:u,Settle:r.a,GoodItem:c.a,Scroll:n.a}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowSearch,expression:"isShowSearch"}],staticClass:"wrapper"},[s("div",{staticClass:"header"},[s("div",{staticClass:"icon-wrapper"},[s("i",{staticClass:"back",on:{click:t.back}})]),t._v(" "),s("div",{staticClass:"search-box"},[s("search-box",{ref:"searchBox",attrs:{placeholder:"请输入商品名称"},on:{query:t.onQueryChange,focus:t.focus}})],1),t._v(" "),s("div",{staticClass:"text-wrapper",on:{click:t.back}},[s("span",[t._v("取消")])])]),t._v(" "),s("div",{staticClass:"content-wrapper"},[s("guess-like",{directives:[{name:"show",rawName:"v-show",value:!t.list.length,expression:"!list.length"}],attrs:{list:t.guessLikeList},on:{query:t.onQueryChange}}),t._v(" "),s("scroll",{directives:[{name:"show",rawName:"v-show",value:t.list.length,expression:"list.length"}],staticClass:"content"},[s("div",{staticClass:"list"},t._l(t.list,function(e,i){return s("good-item",{key:e.id,staticClass:"item",attrs:{item:e},on:{count:t.calc}})}))]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.total,expression:"total"}],staticClass:"settle-wrapper"},[s("settle",{attrs:{price:t.price,total:t.total},on:{submit:t.submit}})],1)],1)])},staticRenderFns:[]};var f=s("VU/8")(v,p,!1,function(t){s("jpaG")},"data-v-5ea22b7c",null).exports,m=s("3Q4o"),C={data:function(){return{query:"",list:[]}},created:function(){this._getCategoryList()},methods:{back:function(){this.$emit("hide")},confirm:function(){this.$emit("query",this.query),this.back()},toggle:function(t){var e=t.srcElement||t.target,s=Object(m.b)(e,"title")?e:e.parentNode;Object(m.b)(s,"active")?Object(m.c)(s,"active"):Object(m.a)(s,"active");var i=s.nextElementSibling;Object(m.b)(i,"hide")?Object(m.c)(i,"hide"):Object(m.a)(i,"hide")},select:function(t){for(var e=t.srcElement||t.target,s=this.$refs.item,i=0;i<s.length;i++){var a=s[i];Object(m.b)(a,"active")&&Object(m.c)(a,"active")}Object(m.a)(e,"active"),this.query=e.innerText;var c=e.parentNode;Object(m.c)(c,"hide")},_getCategoryList:function(){this.list=[{key:"酒水饮料",list:["啤酒","红酒","白酒"]},{key:"食品",list:["饺子","米饭","馒头","包子","面条"]},{key:"电子产品",list:["小米","华为","苹果"]},{key:"水果",list:["苹果","西瓜","橘子","哈密瓜"]}]}},components:{Scroll:n.a}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"category-wrapper"},[s("div",{staticClass:"dialog"},[s("div",{staticClass:"header"},[s("div",{staticClass:"icon-wrapper"},[s("i",{staticClass:"back",on:{click:t.back}})]),t._v(" "),s("div",{staticClass:"text"},[t._v("\n        全部分类\n      ")]),t._v(" "),t._m(0)]),t._v(" "),s("div",{staticClass:"content-wrapper"},[s("scroll",{staticClass:"content"},[s("ul",{staticClass:"list"},t._l(t.list,function(e,i){return s("li",{staticClass:"parent"},[s("div",{staticClass:"title",on:{click:t.toggle}},[s("span",{staticClass:"text"},[t._v(t._s(e.key))]),t._v(" "),s("i")]),t._v(" "),e.list&&e.list.length?s("ul",{staticClass:"detail hide"},t._l(e.list,function(e){return s("li",{ref:"item",refInFor:!0,staticClass:"item",on:{click:function(e){e.stopPropagation(),t.select(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])})):t._e()])}))])],1),t._v(" "),s("div",{staticClass:"footer"},[s("span",{staticClass:"cancel",on:{click:t.back}},[t._v("取消")]),t._v(" "),s("span",{staticClass:"confirm",on:{click:t.confirm}},[t._v("确定")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon-wrapper"},[e("i",{staticClass:"icon-category"})])}]};var g=s("VU/8")(C,_,!1,function(t){s("fdU8")},"data-v-6d4c7680",null).exports,w={data:function(){return{query:"",list:[],isShowSearch:!1,isShowCategory:!1,selectedGoods:{},total:0,price:0}},created:function(){this._getOrderList()},methods:a()({back:function(){this.$router.back()},showSearch:function(){this.isShowSearch=!0},hideSearch:function(){this.isShowSearch=!1},showCategory:function(){this.isShowCategory=!0},hideCategory:function(){this.isShowCategory=!1},_getOrderList:function(){this.list=[];for(var t=0;t<10;t++)this.list.push({id:t+1,src:"https://y.gtimg.cn/music/photo_new/T003R720x288M000000yTU5u2XJFWh.jpg?max_age=2592000",name:"可口可乐",desc:"600ml",price:parseInt(10*Math.random()+1),unit:"瓶"})},calc:function(t){this.selectedGoods[t.id]=t;var e=0,s=0;for(var i in this.selectedGoods){var a=this.selectedGoods[i];e+=a.count,s+=a.price*a.count}this.total=e,this.price=s,this.item=t},submit:function(){this.setShoppingCart(this.selectedGoods),this.$router.push({path:this.$router.currentRoute.path+"/shoppingcart"})},onQueryChange:function(t){this.query=t,this.$refs.searchBox.setQuery(t)}},Object(d.b)(["setShoppingCart"])),watch:{query:function(){this._getOrderList()}},components:{SearchBox:o.a,Search:f,Settle:r.a,GoodItem:c.a,Scroll:n.a,Category:g}},y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide"}},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"header"},[s("div",{staticClass:"icon-wrapper"},[s("i",{staticClass:"back",on:{click:t.back}})]),t._v(" "),s("div",{staticClass:"search-box"},[s("search-box",{ref:"searchBox",on:{query:t.onQueryChange,focus:t.showSearch}})],1),t._v(" "),s("div",{staticClass:"icon-wrapper"},[s("i",{staticClass:"icon-category",on:{click:t.showCategory}})])]),t._v(" "),s("div",{staticClass:"content-wrapper"},[s("scroll",{staticClass:"content"},[s("div",{staticClass:"list"},t._l(t.list,function(e,i){return s("good-item",{key:e.id,staticClass:"item",attrs:{item:e},on:{count:t.calc}})}))]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.total,expression:"total"}],staticClass:"settle-wrapper"},[s("settle",{attrs:{price:t.price,total:t.total},on:{submit:t.submit}})],1)],1),t._v(" "),s("category",{directives:[{name:"show",rawName:"v-show",value:t.isShowCategory,expression:"isShowCategory"}],on:{hide:t.hideCategory,query:t.onQueryChange}}),t._v(" "),s("search",{attrs:{isShowSearch:t.isShowSearch},on:{hide:t.hideSearch}}),t._v(" "),s("router-view")],1)])},staticRenderFns:[]};var b=s("VU/8")(w,y,!1,function(t){s("o6iA")},"data-v-ff75450a",null);e.default=b.exports}});
//# sourceMappingURL=2.1e008ce1bb9fa7311138.js.map