webpackJsonp([2],{"8Naw":function(t,e){},CTeu:function(t,e,s){"use strict";var i=s("Dd8w"),a=s.n(i),n={data:function(){return{count:0,showIcon:!1}},filters:{formatMoney:function(t){return isFinite(t)?t.toFixed(2):""}},props:{item:{type:Object,default:function(){return{}}}},methods:{minus:function(){this.count=Math.max(0,this.count-1)},plus:function(){this.count=parseInt(this.count)+1}},watch:{count:function(t){this.showIcon=0!==t,this.$emit("count",a()({},this.item,{count:""===t?0:parseInt(t)}))}},components:{}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"good"},[s("div",{staticClass:"left"},[s("img",{staticClass:"img",attrs:{src:t.item.src}})]),t._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"detail"},[s("p",{staticClass:"name"},[t._v(t._s(t.item.name))]),t._v(" "),s("div",{staticClass:"desc"},[s("p",[s("label",[t._v("规格：")]),t._v(" "),s("span",[t._v(t._s(t.item.desc))])]),t._v(" "),s("p",{staticClass:"price"},[s("label",[t._v("￥")]),t._v(" "),s("span",[t._v(t._s(t._f("formatMoney")(t.item.price)))]),t._v(" "),s("label",[t._v("/"+t._s(t.item.unit))])])])]),t._v(" "),s("div",{staticClass:"operate"},[s("i",{directives:[{name:"show",rawName:"v-show",value:t.showIcon,expression:"showIcon"}],staticClass:"minus",on:{click:t.minus}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showIcon,expression:"showIcon"}],staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.count,expression:"count"}],attrs:{type:"text"},domProps:{value:t.count},on:{input:function(e){e.target.composing||(t.count=e.target.value)}}})]),t._v(" "),s("i",{staticClass:"plus",on:{click:t.plus}})])])])},staticRenderFns:[]};var r=s("VU/8")(n,o,!1,function(t){s("8Naw")},"data-v-55bf2e12",null);e.a=r.exports},Csq2:function(t,e,s){"use strict";var i={data:function(){return{}},filters:{formatMoney:function(t){return t.toFixed(2)}},props:{confirmText:{type:String,default:"购物车"},total:{type:Number,default:0},price:{type:Number,default:0}},methods:{submit:function(){this.$emit("submit",{total:this.total,price:this.price})}},components:{}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settle"},[s("div",{staticClass:"detail"},[s("p",{staticClass:"total"},[s("label",[t._v("数量：")]),t._v(" "),s("span",[t._v(t._s(t.total))])]),t._v(" "),s("p",{staticClass:"price"},[s("label",[t._v("价格：")]),t._v(" "),s("span",[t._v("￥"+t._s(t._f("formatMoney")(t.price)))])])]),t._v(" "),s("div",{staticClass:"btn",on:{click:t.submit}},[t._v("\n      "+t._s(t.confirmText)+"\n    ")])])},staticRenderFns:[]};var n=s("VU/8")(i,a,!1,function(t){s("OGRs")},"data-v-372fa392",null);e.a=n.exports},OGRs:function(t,e){},"P+Vi":function(t,e){},WPze:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Dd8w"),a=s.n(i),n={props:{deleteText:{type:String,default:"删除"},deleteWidth:{type:String,default:"80"},height:{type:String,default:"110"}},data:function(){return{startX:0,endX:0,moveX:0,disX:0,deleteSlider:""}},mounted:function(){this.$refs.slider.style.height=this.height+"px",this.$refs.delete.style.width=this.deleteWidth+"px",this.$refs.delete.style.right="-"+this.deleteWidth+"px"},methods:{deleteItem:function(){this.$emit("delete")},touchStart:function(t){1==(t=t||event).touches.length&&(this.startX=t.touches[0].clientX)},touchMove:function(t){t=t||event;this.$refs.delete;var e=this.$refs.delete.offsetWidth;1==t.changedTouches.length&&(this.moveX=t.changedTouches[0].clientX,this.disX=this.moveX-this.startX,this.deleteSlider="transform:translateX("+this.disX+"px)",this.disX<0?-this.disX>=e/2&&(this.deleteSlider="transform:translateX(-"+e+"px)"):this.disX>0&&this.disX>=e/2&&(this.deleteSlider="transform:translateX(0)"))},touchEnd:function(t){t=t||event;var e=this.$refs.delete.offsetWidth;1==t.changedTouches.length&&(this.endX=t.changedTouches[0].clientX,this.disX=this.endX-this.startX,this.disX<0?-this.disX>e/2?this.deleteSlider="transform:translateX(-"+e+"px)":this.deleteSlider="transform:translateX(0)":this.disX>0&&(this.disX>e/2?this.deleteSlider="transform:translateX(0)":this.deleteSlider="transform:translateX(-"+e+"px)"))}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"delete"},[s("div",{ref:"slider",staticClass:"slider",style:t.deleteSlider},[s("div",{staticClass:"swipe-wrapper",on:{touchstart:function(e){e.stopPropagation(),t.touchStart(e)},touchmove:function(e){e.stopPropagation(),t.touchMove(e)},touchend:function(e){e.stopPropagation(),t.touchEnd(e)}}},[t._t("default")],2),t._v(" "),s("div",{ref:"delete",staticClass:"delete",on:{click:t.deleteItem}},[t._v("\n            "+t._s(t.deleteText)+"\n        ")])])])},staticRenderFns:[]};var r=s("VU/8")(n,o,!1,function(t){s("cPCW")},"data-v-0168c2bb",null).exports,c=s("CTeu"),l=s("qwAB"),d=s("Csq2"),h=s("lUMR"),u=s("NYxO"),p={data:function(){return{}},computed:a()({},Object(u.c)(["shoppingCartItems"]),{total:function(){var t=0;for(var e in this.shoppingCartItems)t+=this.shoppingCartItems[e].count;return console.log("12"),t},price:function(){var t=0;for(var e in this.shoppingCartItems){var s=this.shoppingCartItems[e];t+=s.price*s.count}return console.log("11"),t}}),created:function(){console.log(this.shoppingCartItems)},methods:a()({back:function(){this.$router.back()},deleteItem:function(t){var e={};for(var s in this.shoppingCartItems)t!==this.shoppingCartItems[s].id&&(e[s]=this.shoppingCartItems[s]);this.setShoppingCart(e)},calc:function(t){this.selectedGoods[t.id]=t;var e=0,s=0;for(var i in this.selectedGoods){var a=this.selectedGoods[i];e+=a.count,s+=a.price*a.count}this.total=e,this.price=s,this.item=t},submit:function(){}},Object(u.b)(["setShoppingCart"])),components:{LeftSwipe:r,Search:h.a,Settle:d.a,GoodItem:c.a,Scroll:l.a}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide"}},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"header"},[s("i",{staticClass:"back",on:{click:t.back}}),t._v(" "),s("span",{staticClass:"text"},[t._v("我的购物车")])]),t._v(" "),s("div",{staticClass:"content-wrapper"},[s("scroll",{staticClass:"content"},[s("div",{staticClass:"list"},t._l(t.shoppingCartItems,function(e,i){return s("left-swipe",{key:i,on:{delete:function(s){t.deleteItem(e.id)}}},[s("good-item",{staticClass:"item",attrs:{item:e},on:{count:t.calc}})],1)}))]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.total,expression:"total"}],staticClass:"settle-wrapper"},[s("settle",{attrs:{price:t.price,total:t.total},on:{submit:t.submit}})],1)],1)])])},staticRenderFns:[]};var f=s("VU/8")(p,v,!1,function(t){s("P+Vi")},"data-v-5b918e12",null);e.default=f.exports},cPCW:function(t,e){},iacL:function(t,e){},lUMR:function(t,e,s){"use strict";var i=s("Dd8w"),a=s.n(i),n=s("CTeu"),o=s("qwAB"),r=s("2X+S"),c=s("Csq2"),l=s("NYxO"),d={data:function(){return{query:"",list:[],selectedGoods:{},total:0,price:0}},props:{isShowSearch:{type:Boolean,default:!1}},created:function(){},methods:a()({back:function(){this.$emit("hide"),this.query="",this.list=[],this.selectedGoods={},this.total=0,this.price=0},focus:function(){console.log("xxx")},onQueryChange:function(t){this.list=[],this.query=t,this._getOrderList()},_getOrderList:function(){for(var t=0;t<10;t++)this.list.push({id:t+1,src:"https://y.gtimg.cn/music/photo_new/T003R720x288M000000yTU5u2XJFWh.jpg?max_age=2592000",name:"可口可乐",desc:"600ml",price:parseInt(10*Math.random()+1),unit:"瓶"})},calc:function(t){this.selectedGoods[t.id]=t;var e=0,s=0;for(var i in this.selectedGoods){var a=this.selectedGoods[i];e+=a.count,s+=a.price*a.count}this.total=e,this.price=s,this.item=t},submit:function(){this.setShoppingCart(this.selectedGoods),this.$router.push({path:"/purchase/materialindex/shoppingcart"})}},Object(l.b)(["setShoppingCart"])),components:{SearchBox:r.a,Search:p,Settle:c.a,GoodItem:n.a,Scroll:o.a}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowSearch,expression:"isShowSearch"}],staticClass:"wrapper"},[s("div",{staticClass:"header"},[s("div",{staticClass:"icon-wrapper"},[s("i",{staticClass:"back",on:{click:t.back}})]),t._v(" "),s("div",{staticClass:"search-box"},[s("search-box",{attrs:{placeholder:"请输入商品名称"},on:{query:t.onQueryChange,focus:t.focus}})],1),t._v(" "),s("div",{staticClass:"text-wrapper",on:{click:t.back}},[s("span",[t._v("取消")])])]),t._v(" "),s("div",{staticClass:"content-wrapper"},[s("scroll",{staticClass:"content"},[s("div",{staticClass:"list"},t._l(t.list,function(e,i){return s("good-item",{key:e.id,staticClass:"item",attrs:{item:e},on:{count:t.calc}})}))]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.total,expression:"total"}],staticClass:"settle-wrapper"},[s("settle",{attrs:{price:t.price,total:t.total},on:{submit:t.submit}})],1)],1)])},staticRenderFns:[]};var u=s("VU/8")(d,h,!1,function(t){s("iacL")},"data-v-4c668570",null),p=e.a=u.exports}});
//# sourceMappingURL=2.ce826cf615c0bf191918.js.map